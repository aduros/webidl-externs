#!/usr/bin/env python

import os
import subprocess

import WebIDL
import Haxe

whitelist = [
    "input/typedarray.webidl",
    "webidl/AbortablePromise.webidl",
    "webidl/AbstractWorker.webidl",
    "webidl/ActivityRequestHandler.webidl",
    "webidl/AlarmsManager.webidl",
    "webidl/AnalyserNode.webidl",
    "webidl/Animatable.webidl",
    "webidl/AnimationEffect.webidl",
    "webidl/AnimationEvent.webidl",
    "webidl/AnimationPlayer.webidl",
    "webidl/AnimationTimeline.webidl",
    "webidl/Animation.webidl",
    "webidl/AnonymousContent.webidl",
    "webidl/AppInfo.webidl",
    "webidl/AppNotificationServiceOptions.webidl",
    "webidl/Apps.webidl",
    "webidl/APZTestData.webidl",
    "webidl/ArchiveReader.webidl",
    "webidl/ArchiveRequest.webidl",
    "webidl/Attr.webidl",
    "webidl/AudioBufferSourceNode.webidl",
    "webidl/AudioBuffer.webidl",
    "webidl/AudioChannelManager.webidl",
    "webidl/AudioChannel.webidl",
    "webidl/AudioContext.webidl",
    "webidl/AudioDestinationNode.webidl",
    "webidl/AudioListener.webidl",
    "webidl/AudioNode.webidl",
    "webidl/AudioParam.webidl",
    "webidl/AudioProcessingEvent.webidl",
    "webidl/AudioStreamTrack.webidl",
    "webidl/AudioTrackList.webidl",
    "webidl/AudioTrack.webidl",
    "webidl/AutocompleteErrorEvent.webidl",
    "webidl/AutocompleteInfo.webidl",
    "webidl/BarProp.webidl",
    "webidl/BatteryManager.webidl",
    "webidl/BeforeAfterKeyboardEvent.webidl",
    "webidl/BeforeUnloadEvent.webidl",
    "webidl/BiquadFilterNode.webidl",
    "webidl/BlobEvent.webidl",
    "webidl/Blob.webidl",
    "webidl/BluetoothAdapterEvent.webidl",
    "webidl/BluetoothAdapter.webidl",
    "webidl/BluetoothAttributeEvent.webidl",
    "webidl/BluetoothClassOfDevice.webidl",
    "webidl/BluetoothDeviceEvent.webidl",
    "webidl/BluetoothDevice.webidl",
    "webidl/BluetoothDiscoveryHandle.webidl",
    "webidl/BluetoothDiscoveryStateChangedEvent.webidl",
    "webidl/BluetoothManager.webidl",
    "webidl/BluetoothPairingEvent.webidl",
    "webidl/BluetoothPairingHandle.webidl",
    "webidl/BluetoothPairingListener.webidl",
    "webidl/BluetoothStatusChangedEvent.webidl",
    "webidl/BoxObject.webidl",
    "webidl/BrowserElementDictionaries.webidl",
    "webidl/BrowserFeedWriter.webidl",
    "webidl/CallEvent.webidl",
    "webidl/CallGroupErrorEvent.webidl",
    "webidl/CallsList.webidl",
    "webidl/CameraCapabilities.webidl",
    "webidl/CameraConfigurationEvent.webidl",
    "webidl/CameraControl.webidl",
    "webidl/CameraFacesDetectedEvent.webidl",
    "webidl/CameraManager.webidl",
    "webidl/CameraStateChangeEvent.webidl",
    "webidl/CameraUtil.webidl",
    "webidl/CanvasRenderingContext2D.webidl",
    "webidl/CaretPosition.webidl",
    "webidl/CDATASection.webidl",
    "webidl/CFStateChangeEvent.webidl",
    "webidl/ChannelMergerNode.webidl",
    "webidl/ChannelSplitterNode.webidl",
    "webidl/CharacterData.webidl",
    "webidl/ChildNode.webidl",
    "webidl/ChromeNotifications.webidl",
    "webidl/ClipboardEvent.webidl",
    "webidl/CloseEvent.webidl",
    "webidl/CommandEvent.webidl",
    "webidl/Comment.webidl",
    "webidl/CompositionEvent.webidl",
    "webidl/Console.webidl",
    "webidl/Constraints.webidl",
    "webidl/Contacts.webidl",
    "webidl/ContainerBoxObject.webidl",
    "webidl/ConvolverNode.webidl",
    "webidl/Coordinates.webidl",
    "webidl/Crypto.webidl",
    "webidl/CSPReport.webidl",
    "webidl/CSSFontFaceLoadEvent.webidl",
    "webidl/CSSPrimitiveValue.webidl",
    "webidl/CSSRuleList.webidl",
    "webidl/CSSStyleDeclaration.webidl",
    "webidl/CSSStyleSheet.webidl",
    "webidl/CSSValueList.webidl",
    "webidl/CSSValue.webidl",
    "webidl/CSS.webidl",
    "webidl/CustomEvent.webidl",
    "webidl/DataChannel.webidl",
    "webidl/DataContainerEvent.webidl",
    "webidl/DataErrorEvent.webidl",
    "webidl/DataStoreChangeEvent.webidl",
    "webidl/DataStoreImpl.webidl",
    "webidl/DataStore.webidl",
    "webidl/DataTransfer.webidl",
    "webidl/DedicatedWorkerGlobalScope.webidl",
    "webidl/DelayNode.webidl",
    "webidl/DesktopNotification.webidl",
    "webidl/DeviceLightEvent.webidl",
    "webidl/DeviceMotionEvent.webidl",
    "webidl/DeviceOrientationEvent.webidl",
    "webidl/DeviceProximityEvent.webidl",
    "webidl/DeviceStorageChangeEvent.webidl",
    "webidl/DeviceStorage.webidl",
    "webidl/Directory.webidl",
    "webidl/DocumentFragment.webidl",
    "webidl/DocumentType.webidl",
    "webidl/Document.webidl",
    "webidl/DOMCursor.webidl",
    "webidl/DOMError.webidl",
    "webidl/DOMException.webidl",
    "webidl/DOMImplementation.webidl",
    "webidl/DOMMatrix.webidl",
    "webidl/DOMMMIError.webidl",
    "webidl/DOMMobileMessageError.webidl",
    "webidl/DOMParser.webidl",
    "webidl/DOMPoint.webidl",
    "webidl/DOMQuad.webidl",
    "webidl/DOMRectList.webidl",
    "webidl/DOMRect.webidl",
    "webidl/DOMRequest.webidl",
    "webidl/DOMSettableTokenList.webidl",
    "webidl/DOMStringList.webidl",
    "webidl/DOMStringMap.webidl",
    "webidl/DOMTokenList.webidl",
    "webidl/DOMTransactionEvent.webidl",
    "webidl/DOMTransaction.webidl",
    "webidl/DownloadEvent.webidl",
    "webidl/Downloads.webidl",
    "webidl/DragEvent.webidl",
    "webidl/DummyBinding.webidl",
    "webidl/DynamicsCompressorNode.webidl",
    "webidl/Element.webidl",
    "webidl/EngineeringMode.webidl",
    "webidl/ErrorEvent.webidl",
    "webidl/EventHandler.webidl",
    "webidl/EventListener.webidl",
    "webidl/EventSource.webidl",
    "webidl/EventTarget.webidl",
    "webidl/Event.webidl",
    "webidl/External.webidl",
    "webidl/Fetch.webidl",
    "webidl/FileList.webidl",
    "webidl/FileMode.webidl",
    "webidl/FileReaderSync.webidl",
    "webidl/FileReader.webidl",
    "webidl/File.webidl",
    "webidl/FMRadio.webidl",
    "webidl/FocusEvent.webidl",
    "webidl/FontFaceSet.webidl",
    "webidl/FontFaceSource.webidl",
    "webidl/FontFace.webidl",
    "webidl/FormData.webidl",
    "webidl/Function.webidl",
    "webidl/GainNode.webidl",
    "webidl/GamepadAxisMoveEvent.webidl",
    "webidl/GamepadButtonEvent.webidl",
    "webidl/GamepadEvent.webidl",
    "webidl/Gamepad.webidl",
    "webidl/Geolocation.webidl",
    "webidl/GeometryUtils.webidl",
    "webidl/GetUserMediaRequest.webidl",
    "webidl/HashChangeEvent.webidl",
    "webidl/Headers.webidl",
    "webidl/History.webidl",
    "webidl/HTMLAllCollection.webidl",
    "webidl/HTMLAnchorElement.webidl",
    "webidl/HTMLAppletElement.webidl",
    "webidl/HTMLAreaElement.webidl",
    "webidl/HTMLAudioElement.webidl",
    "webidl/HTMLBaseElement.webidl",
    "webidl/HTMLBodyElement.webidl",
    "webidl/HTMLBRElement.webidl",
    "webidl/HTMLButtonElement.webidl",
    "webidl/HTMLCanvasElement.webidl",
    "webidl/HTMLCollection.webidl",
    "webidl/HTMLContentElement.webidl",
    "webidl/HTMLDataElement.webidl",
    "webidl/HTMLDataListElement.webidl",
    "webidl/HTMLDirectoryElement.webidl",
    "webidl/HTMLDivElement.webidl",
    "webidl/HTMLDListElement.webidl",
    "webidl/HTMLDocument.webidl",
    "webidl/HTMLElement.webidl",
    "webidl/HTMLEmbedElement.webidl",
    "webidl/HTMLFieldSetElement.webidl",
    "webidl/HTMLFontElement.webidl",
    "webidl/HTMLFormControlsCollection.webidl",
    "webidl/HTMLFormElement.webidl",
    "webidl/HTMLFrameElement.webidl",
    "webidl/HTMLFrameSetElement.webidl",
    "webidl/HTMLHeadElement.webidl",
    "webidl/HTMLHeadingElement.webidl",
    "webidl/HTMLHRElement.webidl",
    "webidl/HTMLHtmlElement.webidl",
    "webidl/HTMLIFrameElement.webidl",
    "webidl/HTMLImageElement.webidl",
    "webidl/HTMLInputElement.webidl",
    "webidl/HTMLLabelElement.webidl",
    "webidl/HTMLLegendElement.webidl",
    "webidl/HTMLLIElement.webidl",
    "webidl/HTMLLinkElement.webidl",
    "webidl/HTMLMapElement.webidl",
    "webidl/HTMLMediaElement.webidl",
    "webidl/HTMLMenuElement.webidl",
    "webidl/HTMLMenuItemElement.webidl",
    "webidl/HTMLMetaElement.webidl",
    "webidl/HTMLMeterElement.webidl",
    "webidl/HTMLModElement.webidl",
    "webidl/HTMLObjectElement.webidl",
    "webidl/HTMLOListElement.webidl",
    "webidl/HTMLOptGroupElement.webidl",
    "webidl/HTMLOptionElement.webidl",
    "webidl/HTMLOptionsCollection.webidl",
    "webidl/HTMLOutputElement.webidl",
    "webidl/HTMLParagraphElement.webidl",
    "webidl/HTMLParamElement.webidl",
    "webidl/HTMLPictureElement.webidl",
    "webidl/HTMLPreElement.webidl",
    "webidl/HTMLProgressElement.webidl",
    "webidl/HTMLPropertiesCollection.webidl",
    "webidl/HTMLQuoteElement.webidl",
    "webidl/HTMLScriptElement.webidl",
    "webidl/HTMLSelectElement.webidl",
    "webidl/HTMLShadowElement.webidl",
    "webidl/HTMLSourceElement.webidl",
    "webidl/HTMLSpanElement.webidl",
    "webidl/HTMLStyleElement.webidl",
    "webidl/HTMLTableCaptionElement.webidl",
    "webidl/HTMLTableCellElement.webidl",
    "webidl/HTMLTableColElement.webidl",
    "webidl/HTMLTableElement.webidl",
    "webidl/HTMLTableRowElement.webidl",
    "webidl/HTMLTableSectionElement.webidl",
    "webidl/HTMLTemplateElement.webidl",
    "webidl/HTMLTextAreaElement.webidl",
    "webidl/HTMLTimeElement.webidl",
    "webidl/HTMLTitleElement.webidl",
    "webidl/HTMLTrackElement.webidl",
    "webidl/HTMLUListElement.webidl",
    "webidl/HTMLVideoElement.webidl",
    "webidl/IccCardLockError.webidl",
    "webidl/IccChangeEvent.webidl",
    "webidl/IDBCursor.webidl",
    "webidl/IDBDatabase.webidl",
    "webidl/IDBEnvironment.webidl",
    "webidl/IDBFactory.webidl",
    "webidl/IDBFileHandle.webidl",
    "webidl/IDBFileRequest.webidl",
    "webidl/IDBIndex.webidl",
    "webidl/IDBKeyRange.webidl",
    "webidl/IDBMutableFile.webidl",
    "webidl/IDBObjectStore.webidl",
    "webidl/IDBOpenDBRequest.webidl",
    "webidl/IDBRequest.webidl",
    "webidl/IDBTransaction.webidl",
    "webidl/IDBVersionChangeEvent.webidl",
    "webidl/Identity.webidl",
    "webidl/ImageCaptureErrorEvent.webidl",
    "webidl/ImageCapture.webidl",
    "webidl/ImageData.webidl",
    "webidl/ImageDocument.webidl",
    "webidl/InputEvent.webidl",
    "webidl/InputMethod.webidl",
    "webidl/InspectorUtils.webidl",
    "webidl/InstallEvent.webidl",
    "webidl/InstallPhaseEvent.webidl",
    "webidl/InstallTrigger.webidl",
    "webidl/InterAppConnectionRequest.webidl",
    "webidl/InterAppConnection.webidl",
    "webidl/InterAppMessagePort.webidl",
    "webidl/KeyAlgorithm.webidl",
    "webidl/KeyboardEvent.webidl",
    "webidl/KeyEvent.webidl",
    "webidl/LegacyQueryInterface.webidl",
    "webidl/LinkStyle.webidl",
    "webidl/ListBoxObject.webidl",
    "webidl/LocalMediaStream.webidl",
    "webidl/Location.webidl",
    "webidl/MediaDevices.webidl",
    "webidl/MediaElementAudioSourceNode.webidl",
    "webidl/MediaEncryptedEvent.webidl",
    "webidl/MediaError.webidl",
    "webidl/MediaKeyError.webidl",
    "webidl/MediaKeyMessageEvent.webidl",
    "webidl/MediaKeySession.webidl",
    "webidl/MediaKeys.webidl",
    "webidl/MediaKeySystemAccess.webidl",
    "webidl/MediaList.webidl",
    "webidl/MediaQueryList.webidl",
    "webidl/MediaRecorder.webidl",
    "webidl/MediaSource.webidl",
    "webidl/MediaStreamAudioDestinationNode.webidl",
    "webidl/MediaStreamAudioSourceNode.webidl",
    "webidl/MediaStreamError.webidl",
    "webidl/MediaStreamEvent.webidl",
    "webidl/MediaStreamList.webidl",
    "webidl/MediaStreamTrackEvent.webidl",
    "webidl/MediaStreamTrack.webidl",
    "webidl/MediaStream.webidl",
    "webidl/MediaTrackConstraintSet.webidl",
    "webidl/MenuBoxObject.webidl",
    "webidl/MessageChannel.webidl",
    "webidl/MessageEvent.webidl",
    "webidl/MessagePortList.webidl",
    "webidl/MessagePort.webidl",
    "webidl/MimeTypeArray.webidl",
    "webidl/MimeType.webidl",
    "webidl/MMICall.webidl",
    "webidl/MouseEvent.webidl",
    "webidl/MouseScrollEvent.webidl",
    "webidl/MozActivity.webidl",
    "webidl/MozApplicationEvent.webidl",
    "webidl/MozCellBroadcastEvent.webidl",
    "webidl/MozCellBroadcastMessage.webidl",
    "webidl/MozCellBroadcast.webidl",
    "webidl/MozClirModeEvent.webidl",
    "webidl/MozEmergencyCbModeEvent.webidl",
    "webidl/MozIccInfo.webidl",
    "webidl/MozIccManager.webidl",
    "webidl/MozIcc.webidl",
    "webidl/MozInterAppMessageEvent.webidl",
    "webidl/MozMessageDeletedEvent.webidl",
    "webidl/MozMmsEvent.webidl",
    "webidl/MozMmsMessage.webidl",
    "webidl/MozMobileCellInfo.webidl",
    "webidl/MozMobileConnectionArray.webidl",
    "webidl/MozMobileConnectionInfo.webidl",
    "webidl/MozMobileConnection.webidl",
    "webidl/MozMobileMessageManager.webidl",
    "webidl/MozMobileNetworkInfo.webidl",
    "webidl/MozNDEFRecord.webidl",
    "webidl/MozNetworkStatsAlarm.webidl",
    "webidl/MozNetworkStatsData.webidl",
    "webidl/MozNetworkStatsInterface.webidl",
    "webidl/MozNetworkStats.webidl",
    "webidl/MozNFCPeerEvent.webidl",
    "webidl/MozNFCPeer.webidl",
    "webidl/MozNFCTagEvent.webidl",
    "webidl/MozNFCTag.webidl",
    "webidl/MozNFC.webidl",
    "webidl/MozOtaStatusEvent.webidl",
    "webidl/MozPowerManager.webidl",
    "webidl/MozSelfSupport.webidl",
    "webidl/MozSettingsEvent.webidl",
    "webidl/MozSettingsTransactionEvent.webidl",
    "webidl/MozSmsEvent.webidl",
    "webidl/MozSpeakerManager.webidl",
    "webidl/MozStkCommandEvent.webidl",
    "webidl/MozTetheringManager.webidl",
    "webidl/MozTimeManager.webidl",
    "webidl/MozVoicemailEvent.webidl",
    "webidl/MozVoicemailStatus.webidl",
    "webidl/MozVoicemail.webidl",
    "webidl/MozWakeLock.webidl",
    "webidl/MozWifiCapabilities.webidl",
    "webidl/MozWifiConnectionInfoEvent.webidl",
    "webidl/MozWifiManager.webidl",
    "webidl/MozWifiP2pManager.webidl",
    "webidl/MozWifiP2pStatusChangeEvent.webidl",
    "webidl/MozWifiStationInfoEvent.webidl",
    "webidl/MozWifiStatusChangeEvent.webidl",
    "webidl/MutationEvent.webidl",
    "webidl/MutationObserver.webidl",
    "webidl/NamedNodeMap.webidl",
    "webidl/NativeOSFileInternals.webidl",
    "webidl/Navigator.webidl",
    "webidl/NetDashboard.webidl",
    "webidl/NetworkInformation.webidl",
    "webidl/NetworkOptions.webidl",
    "webidl/NfcOptions.webidl",
    "webidl/NodeFilter.webidl",
    "webidl/NodeIterator.webidl",
    "webidl/NodeList.webidl",
    "webidl/Node.webidl",
    "webidl/Notification.webidl",
    "webidl/NotifyPaintEvent.webidl",
    "webidl/OfflineAudioCompletionEvent.webidl",
    "webidl/OfflineAudioContext.webidl",
    "webidl/OfflineResourceList.webidl",
    "webidl/OscillatorNode.webidl",
    "webidl/PageTransitionEvent.webidl",
    "webidl/PaintRequestList.webidl",
    "webidl/PaintRequest.webidl",
    "webidl/PannerNode.webidl",
    "webidl/ParentNode.webidl",
    "webidl/PeerConnectionImplEnums.webidl",
    "webidl/PeerConnectionImpl.webidl",
    "webidl/PeerConnectionObserverEnums.webidl",
    "webidl/PeerConnectionObserver.webidl",
    "webidl/PerformanceEntry.webidl",
    "webidl/PerformanceNavigation.webidl",
    "webidl/PerformanceResourceTiming.webidl",
    "webidl/PerformanceTiming.webidl",
    "webidl/Performance.webidl",
    "webidl/PeriodicWave.webidl",
    "webidl/PermissionSettings.webidl",
    "webidl/PhoneNumberService.webidl",
    "webidl/PluginArray.webidl",
    "webidl/PluginCrashedEvent.webidl",
    "webidl/Plugin.webidl",
    "webidl/PointerEvent.webidl",
    "webidl/PopStateEvent.webidl",
    "webidl/PopupBlockedEvent.webidl",
    "webidl/PopupBoxObject.webidl",
    "webidl/PositionError.webidl",
    "webidl/Position.webidl",
    "webidl/ProcessingInstruction.webidl",
    "webidl/ProfileTimelineMarker.webidl",
    "webidl/ProgressEvent.webidl",
    "webidl/PromiseDebugging.webidl",
    "webidl/Promise.webidl",
    "webidl/PushManager.webidl",
    "webidl/RadioNodeList.webidl",
    "webidl/Range.webidl",
    "webidl/RecordErrorEvent.webidl",
    "webidl/Rect.webidl",
    "webidl/Request.webidl",
    "webidl/ResourceStatsManager.webidl",
    "webidl/ResourceStats.webidl",
    "webidl/Response.webidl",
    "webidl/RGBColor.webidl",
    "webidl/RTCConfiguration.webidl",
    "webidl/RTCDataChannelEvent.webidl",
    "webidl/RTCIceCandidate.webidl",
    "webidl/RTCIdentityAssertion.webidl",
    "webidl/RTCPeerConnectionIceEvent.webidl",
    "webidl/RTCPeerConnectionIdentityErrorEvent.webidl",
    "webidl/RTCPeerConnectionIdentityEvent.webidl",
    "webidl/RTCPeerConnectionStatic.webidl",
    "webidl/RTCPeerConnection.webidl",
    "webidl/RTCRtpReceiver.webidl",
    "webidl/RTCRtpSender.webidl",
    "webidl/RTCSessionDescription.webidl",
    "webidl/RTCStatsReport.webidl",
    "webidl/Screen.webidl",
    "webidl/ScriptProcessorNode.webidl",
    "webidl/ScrollAreaEvent.webidl",
    "webidl/ScrollBoxObject.webidl",
    "webidl/ScrollViewChangeEvent.webidl",
    "webidl/SelectionChangeEvent.webidl",
    "webidl/Selection.webidl",
    "webidl/ServiceWorkerClients.webidl",
    "webidl/ServiceWorkerClient.webidl",
    "webidl/ServiceWorkerContainer.webidl",
    "webidl/ServiceWorkerGlobalScope.webidl",
    "webidl/ServiceWorkerRegistration.webidl",
    "webidl/ServiceWorker.webidl",
    "webidl/SettingChangeNotification.webidl",
    "webidl/SettingsManager.webidl",
    "webidl/ShadowRoot.webidl",
    "webidl/SharedWorkerGlobalScope.webidl",
    "webidl/SharedWorker.webidl",
    "webidl/SimpleGestureEvent.webidl",
    "webidl/SocketCommon.webidl",
    "webidl/SourceBufferList.webidl",
    "webidl/SourceBuffer.webidl",
    "webidl/SpeechGrammarList.webidl",
    "webidl/SpeechGrammar.webidl",
    "webidl/SpeechRecognitionAlternative.webidl",
    "webidl/SpeechRecognitionError.webidl",
    "webidl/SpeechRecognitionEvent.webidl",
    "webidl/SpeechRecognitionResultList.webidl",
    "webidl/SpeechRecognitionResult.webidl",
    "webidl/SpeechRecognition.webidl",
    "webidl/SpeechSynthesisEvent.webidl",
    "webidl/SpeechSynthesisUtterance.webidl",
    "webidl/SpeechSynthesisVoice.webidl",
    "webidl/SpeechSynthesis.webidl",
    "webidl/StorageEvent.webidl",
    "webidl/StorageType.webidl",
    "webidl/Storage.webidl",
    "webidl/StyleRuleChangeEvent.webidl",
    "webidl/StyleSheetApplicableStateChangeEvent.webidl",
    "webidl/StyleSheetChangeEvent.webidl",
    "webidl/StyleSheetList.webidl",
    "webidl/StyleSheet.webidl",
    "webidl/SubtleCrypto.webidl",
    "webidl/SVGAElement.webidl",
    "webidl/SVGAltGlyphElement.webidl",
    "webidl/SVGAngle.webidl",
    "webidl/SVGAnimatedAngle.webidl",
    "webidl/SVGAnimatedBoolean.webidl",
    "webidl/SVGAnimatedEnumeration.webidl",
    "webidl/SVGAnimatedInteger.webidl",
    "webidl/SVGAnimatedLengthList.webidl",
    "webidl/SVGAnimatedLength.webidl",
    "webidl/SVGAnimatedNumberList.webidl",
    "webidl/SVGAnimatedNumber.webidl",
    "webidl/SVGAnimatedPathData.webidl",
    "webidl/SVGAnimatedPoints.webidl",
    "webidl/SVGAnimatedPreserveAspectRatio.webidl",
    "webidl/SVGAnimatedRect.webidl",
    "webidl/SVGAnimatedString.webidl",
    "webidl/SVGAnimatedTransformList.webidl",
    "webidl/SVGAnimateElement.webidl",
    "webidl/SVGAnimateMotionElement.webidl",
    "webidl/SVGAnimateTransformElement.webidl",
    "webidl/SVGAnimationElement.webidl",
    "webidl/SVGCircleElement.webidl",
    "webidl/SVGClipPathElement.webidl",
    "webidl/SVGComponentTransferFunctionElement.webidl",
    "webidl/SVGDefsElement.webidl",
    "webidl/SVGDescElement.webidl",
    "webidl/SVGDocument.webidl",
    "webidl/SVGElement.webidl",
    "webidl/SVGEllipseElement.webidl",
    "webidl/SVGFEBlendElement.webidl",
    "webidl/SVGFEColorMatrixElement.webidl",
    "webidl/SVGFEComponentTransferElement.webidl",
    "webidl/SVGFECompositeElement.webidl",
    "webidl/SVGFEConvolveMatrixElement.webidl",
    "webidl/SVGFEDiffuseLightingElement.webidl",
    "webidl/SVGFEDisplacementMapElement.webidl",
    "webidl/SVGFEDistantLightElement.webidl",
    "webidl/SVGFEDropShadowElement.webidl",
    "webidl/SVGFEFloodElement.webidl",
    "webidl/SVGFEFuncAElement.webidl",
    "webidl/SVGFEFuncBElement.webidl",
    "webidl/SVGFEFuncGElement.webidl",
    "webidl/SVGFEFuncRElement.webidl",
    "webidl/SVGFEGaussianBlurElement.webidl",
    "webidl/SVGFEImageElement.webidl",
    "webidl/SVGFEMergeElement.webidl",
    "webidl/SVGFEMergeNodeElement.webidl",
    "webidl/SVGFEMorphologyElement.webidl",
    "webidl/SVGFEOffsetElement.webidl",
    "webidl/SVGFEPointLightElement.webidl",
    "webidl/SVGFESpecularLightingElement.webidl",
    "webidl/SVGFESpotLightElement.webidl",
    "webidl/SVGFETileElement.webidl",
    "webidl/SVGFETurbulenceElement.webidl",
    "webidl/SVGFilterElement.webidl",
    "webidl/SVGFilterPrimitiveStandardAttributes.webidl",
    "webidl/SVGFitToViewBox.webidl",
    "webidl/SVGForeignObjectElement.webidl",
    "webidl/SVGGElement.webidl",
    "webidl/SVGGradientElement.webidl",
    "webidl/SVGGraphicsElement.webidl",
    "webidl/SVGIFrameElement.webidl",
    "webidl/SVGImageElement.webidl",
    "webidl/SVGLengthList.webidl",
    "webidl/SVGLength.webidl",
    "webidl/SVGLinearGradientElement.webidl",
    "webidl/SVGLineElement.webidl",
    "webidl/SVGMarkerElement.webidl",
    "webidl/SVGMaskElement.webidl",
    "webidl/SVGMatrix.webidl",
    "webidl/SVGMetadataElement.webidl",
    "webidl/SVGMPathElement.webidl",
    "webidl/SVGNumberList.webidl",
    "webidl/SVGNumber.webidl",
    "webidl/SVGPathElement.webidl",
    "webidl/SVGPathSegList.webidl",
    "webidl/SVGPathSeg.webidl",
    "webidl/SVGPatternElement.webidl",
    "webidl/SVGPointList.webidl",
    "webidl/SVGPoint.webidl",
    "webidl/SVGPolygonElement.webidl",
    "webidl/SVGPolylineElement.webidl",
    "webidl/SVGPreserveAspectRatio.webidl",
    "webidl/SVGRadialGradientElement.webidl",
    "webidl/SVGRectElement.webidl",
    "webidl/SVGRect.webidl",
    "webidl/SVGScriptElement.webidl",
    "webidl/SVGSetElement.webidl",
    "webidl/SVGStopElement.webidl",
    "webidl/SVGStringList.webidl",
    "webidl/SVGStyleElement.webidl",
    "webidl/SVGSVGElement.webidl",
    "webidl/SVGSwitchElement.webidl",
    "webidl/SVGSymbolElement.webidl",
    "webidl/SVGTests.webidl",
    "webidl/SVGTextContentElement.webidl",
    "webidl/SVGTextElement.webidl",
    "webidl/SVGTextPathElement.webidl",
    "webidl/SVGTextPositioningElement.webidl",
    "webidl/SVGTitleElement.webidl",
    "webidl/SVGTransformList.webidl",
    "webidl/SVGTransform.webidl",
    "webidl/SVGTSpanElement.webidl",
    "webidl/SVGUnitTypes.webidl",
    "webidl/SVGURIReference.webidl",
    "webidl/SVGUseElement.webidl",
    "webidl/SVGViewElement.webidl",
    "webidl/SVGZoomAndPan.webidl",
    "webidl/SVGZoomEvent.webidl",
    "webidl/TelephonyCallGroup.webidl",
    "webidl/TelephonyCallId.webidl",
    "webidl/TelephonyCall.webidl",
    "webidl/Telephony.webidl",
    "webidl/TestInterfaceJSDictionaries.webidl",
    "webidl/TestInterfaceJS.webidl",
    "webidl/TextDecoder.webidl",
    "webidl/TextEncoder.webidl",
    "webidl/TextTrackCueList.webidl",
    "webidl/TextTrackList.webidl",
    "webidl/TextTrack.webidl",
    "webidl/Text.webidl",
    "webidl/TimeEvent.webidl",
    "webidl/TimeRanges.webidl",
    "webidl/TouchEvent.webidl",
    "webidl/TouchList.webidl",
    "webidl/Touch.webidl",
    "webidl/TrackEvent.webidl",
    "webidl/TransitionEvent.webidl",
    "webidl/TreeBoxObject.webidl",
    "webidl/TreeColumns.webidl",
    "webidl/TreeColumn.webidl",
    "webidl/TreeWalker.webidl",
    "webidl/TVChannel.webidl",
    "webidl/TVCurrentChannelChangedEvent.webidl",
    "webidl/TVCurrentSourceChangedEvent.webidl",
    "webidl/TVEITBroadcastedEvent.webidl",
    "webidl/TVManager.webidl",
    "webidl/TVProgram.webidl",
    "webidl/TVScanningStateChangedEvent.webidl",
    "webidl/TVSource.webidl",
    "webidl/TVTuner.webidl",
    "webidl/UDPMessageEvent.webidl",
    "webidl/UDPSocket.webidl",
    "webidl/UIEvent.webidl",
    "webidl/UndoManager.webidl",
    "webidl/URLSearchParams.webidl",
    "webidl/URLUtilsReadOnly.webidl",
    "webidl/URLUtils.webidl",
    "webidl/URL.webidl",
    "webidl/UserProximityEvent.webidl",
    "webidl/USSDReceivedEvent.webidl",
    "webidl/USSDSession.webidl",
    "webidl/ValidityState.webidl",
    "webidl/VideoPlaybackQuality.webidl",
    "webidl/VideoStreamTrack.webidl",
    "webidl/VideoTrackList.webidl",
    "webidl/VideoTrack.webidl",
    "webidl/VTTCue.webidl",
    "webidl/VTTRegion.webidl",
    "webidl/WaveShaperNode.webidl",
    "webidl/WebComponents.webidl",
    "webidl/WebGL2RenderingContext.webidl",
    "webidl/WebGLRenderingContext.webidl",
    "webidl/WebrtcGlobalInformation.webidl",
    "webidl/WebSocket.webidl",
    "webidl/WheelEvent.webidl",
    "webidl/WifiOptions.webidl",
    "webidl/WindowRoot.webidl",
    "webidl/Window.webidl",
    "webidl/WorkerGlobalScope.webidl",
    "webidl/WorkerLocation.webidl",
    "webidl/WorkerNavigator.webidl",
    "webidl/Worker.webidl",
    "webidl/XMLDocument.webidl",
    "webidl/XMLHttpRequestEventTarget.webidl",
    "webidl/XMLHttpRequestUpload.webidl",
    "webidl/XMLHttpRequest.webidl",
    "webidl/XMLSerializer.webidl",
    "webidl/XMLStylesheetProcessingInstruction.webidl",
    "webidl/XPathEvaluator.webidl",
    "webidl/XPathExpression.webidl",
    "webidl/XPathNSResolver.webidl",
    "webidl/XPathResult.webidl",
    "webidl/XSLTProcessor.webidl",
    "webidl/XULCommandEvent.webidl",
    "webidl/XULDocument.webidl",
    "webidl/XULElement.webidl",
]

parser = WebIDL.Parser()

# parser.parse("""
#     typedef float DOMHighResTimeStamp;
# """)

for filename in whitelist:
    process = subprocess.Popen(["cpp", "-C", "-P", filename], stdout=subprocess.PIPE)
    stdout, stderr = process.communicate()
    parser.parse(stdout, filename)
# for root, dirs, files in os.walk("webidl"):
#     for filename in files:
#         if filename.endswith(".webidl"):
#             print("Parsing %s..." % filename)
#             process = subprocess.Popen(["cpp", "-C", "-P", root+"/"+filename], stdout=subprocess.PIPE)
#             stdout, stderr = process.communicate()
#             parser.parse(stdout, filename)
#             # with open(root+"/"+filename) as file:
#             #     parser.parse(file.read(), filename)

idls = parser.finish()

haxe = Haxe.Program(idls)
haxe.generate("output")
